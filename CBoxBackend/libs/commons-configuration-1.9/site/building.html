<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Aug 4, 2012 ( $Revision: 1080083 $ ) -->
<!-- $HeadURL: https://svn.apache.org/repos/asf/commons/proper/commons-skin/trunk/src/main/resources/META-INF/maven/site.vm $ -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>
        Building</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120804" />
    <meta http-equiv="Content-Language" content="en" />
                                                    
<link rel="stylesheet" type="text/css" media="all" href="./css/prettify.css"/>                                                        
<script src="./js/prettify.js" type="text/javascript"></script>                                                        
<script type="text/javascript">window.onload=function() {
            prettyPrint();
        }</script>                      
        </head>
  <body class="composite">
    <div id="banner">
            <div id="bannerLeft">
                                            <a href="http://commons.apache.org/" title="Apache Commons logo">
                                        <img src="./images/commons-logo.png" alt="Apache Commons logo"/>
                </a>
            </div><!-- id="bannerLeft" -->
              <div id="bannerRight">
                                                          <a href="index.html">
                                                <img src="images/logo.png" alt="Commons Configuration"/>
                </a>
            </div><!-- id="bannerRight" -->
        <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                
                <div class="xleft">
        <span id="publishDate">Last Published: 04 August 2012</span>
                  &nbsp;| <span id="projectVersion">Version: 1.9</span>
                      </div>
            <div class="xright">                    <a href="http://www.apachecon.com/" class="externalLink" title="ApacheCon">ApacheCon</a>
            |
                        <a href="http://www.apache.org" class="externalLink" title="Apache">Apache</a>
            |
                        <a href="../" title="Commons">Commons</a>
              
                
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                
                                <h5>Configuration</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="download_configuration.cgi" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="changes-report.html" title="Release History">Release History</a>
            </li>
                  <li class="none">
                          <a href="userguide/user_guide.html" title="User's Guide">User's Guide</a>
            </li>
                  <li class="none">
                          <a href="dependencies.html" title="Runtime Dependencies">Runtime Dependencies</a>
            </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            </li>
          </ul>
                       <h5>Development</h5>
                  <ul>
                  <li class="none">
            <strong>Building</strong>
          </li>
                  <li class="none">
                          <a href="issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                    <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>Commons</h5>
                  <ul>
                  <li class="none">
                          <a href="../" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/licenses/" class="externalLink" title="License">License</a>
            </li>
                                                                    <li class="collapsed">
                          <a href="../components.html" title="Components">Components</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../sandbox/index.html" title="Sandbox">Sandbox</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../dormant/index.html" title="Dormant">Dormant</a>
                  </li>
          </ul>
                       <h5>General Information</h5>
                  <ul>
                  <li class="none">
                          <a href="../volunteering.html" title="Volunteering">Volunteering</a>
            </li>
                  <li class="none">
                          <a href="../patches.html" title="Contributing Patches">Contributing Patches</a>
            </li>
                  <li class="none">
                          <a href="../building.html" title="Building Components">Building Components</a>
            </li>
                  <li class="none">
                          <a href="../releases/index.html" title="Releasing Components">Releasing Components</a>
            </li>
                  <li class="none">
                          <a href="http://wiki.apache.org/commons/FrontPage" class="externalLink" title="Wiki">Wiki</a>
            </li>
          </ul>
                       <h5>ASF</h5>
                  <ul>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works">How the ASF works</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/getinvolved.html" class="externalLink" title="Get Involved">Get Involved</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/dev/" class="externalLink" title="Developer Resources">Developer Resources</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">Sponsorship</a>
            </li>
                  <li class="none">
                          <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">Thanks</a>
            </li>
          </ul>
                                                                                                                   <a href="http://www.apache.org/events/current-event.html" title="ApacheCon" class="poweredBy">
        <img class="poweredBy"  alt="ApacheCon" src="http://www.apache.org/events/current-event-125x125.png"    />
      </a>
                                                                                                    <a href="http://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                       
                
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!-- Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License. --><!-- ===================================================================== --><!-- $Id: building.xml 1197981 2011-11-05 16:10:56Z oheger $ --><!-- ===================================================================== -->

    

        <div class="section"><h2>Overview<a name="Overview"></a></h2>
          <p>
            Commons Configuration can be built using
            <a class="externalLink" href="http://maven.apache.org">maven</a> or
            <a class="externalLink" href="http://ant.apache.org">ant</a>.
          </p>
        </div>

        <div class="section"><h2>Maven 2<a name="Maven_2"></a></h2>
          <p>
            Commons Configuration uses Maven 2 as its build tool. The recommended
            version is Maven 2.2.1. To build the Configuration
            jar, change into the directory where the source distribution resides and run
            &quot;mvn install&quot;. This will compile the source and tests, run the tests, and then
            package the jar. The jar will also be copied into the local maven repository
            for use by other builds.
          </p>
          <p>
            This build requires a JDK 1.5 or higher. It is possible to build
            Commons Configuration on a JDK 1.4 by specifying the &quot;java-1.4&quot;
            profile: &quot;mvn install -Pjava-1.4&quot;. This profile and the settings required are described in
            detail in <a class="externalLink" href="http://commons.apache.org/commons-parent-pom.html#Testing_with_different_Java_versions">
            Testing with different Java versions</a>. If this profile is active,
            some classes depending on Commons VFS (which is available for Java
            1.5+ only) are excluded from compilation.
          </p>
          <p>
            To build the web site run &quot;mvn site&quot;. When it completes the web site will reside in
            the target/site directory and may be viewed by opening target/site/index.html.
          </p>
        </div>
        <div class="section"><h2>Running Functional Tests<a name="Running_Functional_Tests"></a></h2>
          <p>
            <tt>TestWebdavConfigurationBuilder</tt> is a functional test that tests
            DefaultConfigurationBuilder with the configuration files stored in a WebDAV
            server. To run the test the steps that follow
            </p><ol style="list-style-type: decimal">
              <li>Copy all the files in the conf directory to the WebDAV server. Not all the
              files are required but it is generally easier to use a tool like cadaver
              and do an mput than try to copy the required files individually.</li>
              <li>Add the following to the profiles section of settings.xml in the Maven home
              directory. Modify the urls to match your setup.
<div class="source"><pre>
   &lt;profile&gt;
    &lt;profile&gt;
      &lt;id&gt;webdav&lt;/id&gt;
      &lt;activation&gt;
        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;
      &lt;/activation&gt;
      &lt;properties&gt;
        &lt;test.webdav.base&gt;webdav://vfsusr:vfstest@192.168.10.133:80/conf&lt;/test.webdav.base&gt;
      &lt;/properties&gt;
    &lt;/profile&gt;</pre></div></li>
              <li>run &quot;mvn -P webdav test -Dtest=TestWebdavConfigurationBuilder&quot;. The test
              can also be run using &quot;mvn -P webdav test&quot; but this will run all the unit tests
              in addition to the WebDAV test.</li>
            </ol>
          
        </div>

        <div class="section"><h2>Building with Ant<a name="Building_with_Ant"></a></h2>
          <p>
            In order to build the project with Apache Ant, some manual preparations
            have to be done. The problem is that Commons Configuration uses
            classes generated by <a class="externalLink" href="http://javacc.java.net/">JavaCC</a>
            to process configuration files in specific formats. These classes
            are produced dynamically during the build process. While Maven is
            able to download all required artifacts automatically, the Ant build
            is not that smart. Therefore, it is required to download and install
            JavaCC manually. Then a file named <tt>build.properties</tt> has
            to be created in the root directory of Commons Configuration which
            defines the <i>javacc_home</i> property; here the path to the
            JavaCC installation has to be set. Commons Configuration already
            ships with a <tt>build.properties.sample</tt> file which can be
            copied and adapted correspondingly.
          </p>
          <p>
            After these preparations have been done, the following Ant goals
            can be used:
            </p><ul>
              <li>To build a jar file, change into Configuration's root directory
              and run &quot;ant jar&quot;. The result will be in the &quot;target&quot; subdirectory.
              </li>
              <li>To build the Javadocs, run &quot;ant javadoc&quot;. The result will be
              in &quot;target/site/apidocs&quot;.</li>
            </ul>
          
        </div>
    


      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="center">Copyright &#169;                    2001-2012
                        <a href="http://www.apache.org/">The Apache Software Foundation</a>.
            All Rights Reserved.      
                
      </div>
                          
<div class="center">Apache Commons, Apache Commons Configuration, Apache, the Apache feather logo, and the Apache Commons project logos are trademarks of The Apache Software Foundation.
      All other marks mentioned may be trademarks or registered trademarks of their respective owners.</div>
                <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
